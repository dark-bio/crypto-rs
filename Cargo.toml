[package]
name = "darkbio-crypto"
version = "0.2.0"
authors = ["Péter Szilágyi <peter@dark.bio>"]
description = "Cryptography primitives and wrappers"
repository = "https://github.com/dark-bio/crypto-rs"
documentation = "https://docs.rs/darkbio-crypto"
license = "BSD-3-Clause"
edition = "2024"

[lib]
crate-type = ["rlib", "cdylib", "staticlib"]

[features]
default = []
eddsa = ["dep:ed25519-dalek", "dep:signature"]
hpke = ["dep:hpke", "dep:getrandom"]
rsa = ["dep:rsa"]
stream = ["dep:age-core", "dep:chacha20poly1305", "dep:pin-project", "dep:zeroize"]
cert = [
    "eddsa",
    "dep:bcder",
    "dep:chrono",
    "dep:x509-certificate",
    "dep:x509-parser",
    "dep:bytes",
]
ffi = []

[dependencies]
age-core = { version = "0.11.0", optional = true }
bcder = { version = "0.7.5", optional = true }
bytes = { version = "1.10.0", optional = true }
chacha20poly1305 = { version = "0.10.1", optional = true }
chrono = { version = "0.4.40", optional = true }
ed25519-dalek = { version = "2.2.0", features = ["pem", "rand_core"], optional = true }
signature = { version = "2.2.0", features = ["rand_core"], optional = true }
getrandom = { version = "0.3.3", optional = true }
hpke = { version = "0.13.0", features = ["std"], optional = true }
pin-project = { version = "1.1.9", optional = true }
rand = "0.9.0"
rand_chacha = "0.9.0"
rsa = { version = "0.9.8", features = ["sha2"], optional = true }
x509-certificate = { version = "0.24.0", optional = true }
x509-parser = { version = "0.17.0", optional = true }
zeroize = { version = "1.8.1", optional = true }

[dev-dependencies]
hex = "0.4.3"
