[package]
name = "darkbio-crypto"
version = "0.6.3"
authors = ["Péter Szilágyi <peter@dark.bio>"]
description = "Cryptography primitives and wrappers"
repository = "https://github.com/dark-bio/crypto-rs"
documentation = "https://docs.rs/darkbio-crypto"
license = "BSD-3-Clause"
edition = "2024"

[package.metadata.docs.rs]
all-features = true

[features]
default = []
cbor = ["dep:serde", "dep:ciborium"]
eddsa = ["dep:ed25519-dalek", "dep:signature"]
hpke = ["dep:rand", "dep:rand_chacha", "dep:getrandom", "dep:hpke", "dep:pem", "dep:pkcs8", "dep:spki", "dep:der"]
rand = ["dep:getrandom"]
rsa = ["dep:rsa", "dep:signature"]
stream = ["dep:age-core", "dep:chacha20poly1305", "dep:pin-project", "dep:zeroize"]
cert = [
    "eddsa",
    "dep:bcder",
    "dep:chrono",
    "dep:x509-certificate",
    "dep:x509-parser",
    "dep:bytes",
]

[dependencies]
age-core = { version = "0.11.0", optional = true }
bcder = { version = "0.7.5", optional = true }
bytes = { version = "1.10.1", optional = true }
chacha20poly1305 = { version = "0.10.1", optional = true }
chrono = { version = "0.4.41", optional = true }
ciborium = { version = "0.2.2", optional = true }
der = { version = "0.7.10", optional = true }
ed25519-dalek = { version = "2.2.0", features = ["pem", "rand_core"], optional = true }
getrandom = { version = "0.3.3", optional = true }
hpke = { version = "0.13.0", features = ["std"], optional = true }
pem = { version = "3.0.5", optional = true }
pin-project = { version = "1.1.9", optional = true }
pkcs8 = { version = "0.10.2", features = ["std"], optional = true }
rand = { version = "0.9.2", optional = true }
rand_chacha = { version = "0.9.0", optional = true }
rsa = { version = "0.9.8", features = ["sha2"], optional = true }
serde = { version = "1.0.219", optional = true }
signature = { version = "2.2.0", features = ["rand_core"], optional = true }
spki = { version = "0.7.3", features = ["alloc"], optional = true }
x509-certificate = { version = "0.25.0", optional = true }
x509-parser = { version = "0.18.0", optional = true }
zeroize = { version = "1.8.1", optional = true }

[dev-dependencies]
hex = "0.4.3"
